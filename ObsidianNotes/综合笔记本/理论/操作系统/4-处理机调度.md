## 分级调度

### 调度层次

作业调度：按一定原则选择外存后备队列中的作业，为其分配内存等资源，并建立进程，使其获得竞争处理机的资格，进入就绪队列。此外，在作业执行完毕时，回收系统资源。

交换调度：按给定策略，将外存中处于就绪状态或等待状态的进程调入内存，或将内存中暂时不能运行的进程调至外存，以提高内存利用率和系统吞吐量。

进程调度：决定就绪队列中的哪个进程应获得处理机，为其进行进程上下文切换以建立相应的执行环境。

线程调度：进程中相关堆栈和控制表等的调度。

### 作业状态

1. 提交状态：一个作业处于从输入设备进入外部存储设备的过程时所处的状态。
2. 后备状态：作业的全部信息都已通过输入设备输入到外存输入井中，等待进入内存。
3. 执行状态：作业一旦被作业调度程序选中，则为其分配所需的资源，并创建进程，送入内存中投入运行。
4. 完成状态：作业运行完毕，准备退出系统时的状态（所占用的资源尚未全部被系统回收）

作业是用户向计算机提交任务的任务实体，进程是计算机为了完成用户任务实体而设置的执行实体。计算机要完成一个任务实体，必须要有一个以上的执行实体，即一个作业是由一个以上的进程组成的。

## 作业调度

### 周转时间

作业从提交到执行完成所经历的时间。包括：在收容队列中等待，CPU上执行，就绪队列和阻塞队列中等待，结果输出等待等。

### 平均周转时间

假定某作业$i$的提交时间为$T_{si}$，完成时间为$T_{ei}$

作业的周转时间为：$T_i=T_{ei}-T_{si}$

作业的平均周转时间为：$T=\frac{1}{n}\sum_{i=1}^{n}T_i$，其中n为作业流中的作业数量。

### 平均带权周转时间

作业的带权周转时间为：$W_i=T_i/r_i$

作业的平均带权周转时间为：$W=\frac{1}{n}\sum_{i=1}^{n}\frac{T_i}{r_i}$，其中$r_i$，为作业$i$的实际执行时间。